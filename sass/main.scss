/*! 
** High five from this guy (http://www.youtube.com/watch?v=OZBWfyYtYQY) for checking out my source code:  ** 
This is my compiled css. It's minified, preprocessed and compressed via sass/grunt 
to see the hand written stuff, hit up the root dir/sass/ and you can see how I organizse my sass
*/


@import "mixins";
@import "icon-font";
@import "animations";

// Global & General styles
* {
   box-sizing:border-box;
}
html {
    font-family: 'Lekton', sans-serif;
    font-size: 18px;
    height:100%;
    background-color: $darker-grey;
    
    color: $off-white;
    position:relative;

    // Insert top line for the nav-toggle at breakpoint
    @include breakpoint(brother-bear){border-top:6px solid black;}
}
body  { @extend %clearfix; height:100%; }
h1,h2 { font-weight: 200; margin: 0.4em 0; }
h1    { font-size: 1em; }
h2    { color: $dark-grey; font-size: .75em;}

.image-wrap {
    @extend %circle-image-outline;
    background: $grey;
    transition-property:opacity;
    transition-duration:.7s;
    .index & { opacity:0; }
    .index.loaded & { opacity:1; }
 }
 .strikethrough { text-decoration:line-through; }

// Self portrait and main navigation container
nav {
    max-height:200px;
    margin: 0 auto;
    margin-top:120px;
    max-width:100px;
    z-index:3;
    @include breakpoint(baby-bear){ margin-top:10%; }
    // As a sidebar instead of page-centered
    .work & {
        float:left;
        margin:.75em 0px 0px 1em;
    }
}
// Outer-menu container around main page nav 
.internal-nav-wrap {
    height:121px; 
    overflow:hidden;
    margin-top:0px;
    transition:margin-top 200ms, height 200ms;

    &.social-clicked   { height:141px; }
    .hans-clicked &    { margin-top:70px; height:141px; }
    
    @include breakpoint(papa-bear){
        .hans-clicked & { margin-top:70px; }
        .hans-clicked.index &    { margin-top:150px; }
    }
    @include breakpoint(brother-bear){
        .hans-clicked & { margin-top:100px; }
    }
   
    @include breakpoint(baby-bear){
        .hans-clicked & { margin-top:210px; }
        .hans-clicked.index &  { margin-top:215px; }
    }
    @include breakpoint(baby-baby-bear){
        .hans-clicked.index & { margin-top:315px; margin-bottom:30px; display:block;}
    }
}

// Inner-menu container main page ul 
.menu {
    padding:0;
    margin:0;
    margin-top:-10px;

    // Preload blank
    opacity:0;
    transition:opacity 20ms .6s, margin-top 200ms;

    // Slide up to show the social section
    .social-clicked &.unfolded {
        margin-top:-62px;
        // Additional margin for additional padding
        @include breakpoint(baby-bear){
            margin-top:-77px;
        }
    }
    // After load
    &.unfolded {
        opacity:1;
        margin-top:0;
        //Slide down
        li { margin-top: 0; }
    }
}


// Each menu items
.menu li {
    display:block;
    // Pre-margin for sliding down on load
    margin-top: -31%;
    list-style:none;
    border-bottom:1px solid rgba(white,.1);
    transition: margin-top 200ms .6s;
    &:hover { background-color:rgba(rgb(100,100,100), .1); transition-delay:0;}
    // Staggar load transitions
    &:nth-child(2) {
        transition-duration:.4s;
        transition-delay:.7s;
    }
    &:nth-child(3) {
        transition-duration:.5s;
        transition-delay:.8s;
        // Keep third child active on social clicked
        a:hover, .social-clicked & a { padding-left:.5em; }
        .social-clicked & a { color:$orange; }
    }
    a {
        display:block;
        padding-left:0;
        padding-right:.5em;
        padding:.3em;

        text-decoration:none;
        color:$off-white;
        transition:all 100ms ease-in-out, color 100ms;
        // Extra padding for chunky thumbs on mobile
        @include breakpoint(baby-bear){
            padding-top:.5em;
            padding-bottom:.5em;
        }
        &:hover { padding-left:.5em;padding-right:0; }
    }
}

// Social Links
.social {
    display:inline-block;
    width: 100%;
    padding:0;
    margin:150px 0 0 0;

    background:#333;
    background:rgba(0, 0, 0, 0.2);
    border-top:1px solid #242321;
    border-bottom:1px solid #4e4e4e;
    transition:margin 0 .2s;
    // Social Active State
    .social-clicked &  { margin:0px 0 0 0; transition-delay:0; }
    li {
        display:block;
        width:100%;
        max-width:100%;
        overflow:hidden;
    }
    a {
      max-width:31px;
      text-decoration:none;
      display:block;
      color:white;
      position:relative;
      padding:.4em;
      font-size:15px;
      transition:padding-left .2s;
      &:hover {padding-left:100%;}
    }
}
// Links before data:
.social a:before {
  content:attr(data);
  color:white;
  position:absolute;
  display:block;
  left:-75px;
  transition:left .2s;
  color: $grey;
}
// Slide on hover
.social a:hover:before {left:5px;}

// Main Navigation mobile --> inner page --> compressed
@include breakpoint(brother-bear){
    .overlay {
        position:fixed;
        left:0; 
        top: 0;
        width:100%; 
        height:100%; 
        visibility:hidden;
        z-index:10;
        opacity:0; 

        background-color:rgba($darker-grey, .93);
        transition: opacity 0.5s, visibility 0s 0.5s;
        // Show overlay on click
        .menu-clicked & {
            opacity:1;
            visibility: visible;
            transition:opacity .5s;
        }
    }
    // Slide nav down on click 
    .menu-clicked.work nav   { margin-top:100px; }
}

// Footer
footer { 
    position:absolute;
    bottom:0;
    width:100%;
    padding: .7em .2em;
    margin:0 auto;
    text-align:center;
    transition:margin-bottom .5s 1s, opacity 400ms;
    opacity:1;
    overflow:hidden;
    .work & { position:relative; }
    @include breakpoint(baby-baby-bear){
        .hans-clicked.index & { opacity:0;}
    }

    &.loaded   { margin-bottom:0; }
    a {
        color:$dark-grey;
        font-style:italic;
        text-decoration:none;
        &:hover   { text-decoration:underline; }
    }
    
}



// Biography container & contents
.hans-content {
        // Transition in on Click
        opacity:0;
        visibility:hidden;
        z-index:-1;
        transition:opacity 600ms, visibility 600ms 1s;
        p {
            color: $dark-grey;
            font-size: .75em;
            @include breakpoint(baby-bear){
                color:rgba(136,136,136,.7);
                line-height:1.35em;
                font-size:.8em;
            }
        }
        .bio {
            margin:0 auto;
            margin-top:0px;
            width:80%;
            max-width: 600px;
            min-width:240px;
            transition:margin-top 400ms;
            .work & {
                position:absolute;
                top:0px;
                left:26px;
                margin-top:0;
                transition:top 400ms;
            }
            a {
                color:$dark-grey;
                font-style:italic;
            }
        }
    // Background image
    &:after {
        content:"";
        display:block;
        position:absolute;
        left:0;
        top:0;
        height:90%;
        width:100%;
        z-index:-1;

        opacity:.059;
        background-image:url('../img/me.jpg');
        background-size:cover;
        background-position:center center;
    }
}


// Hans clicked actions
.hans-clicked {
    //Slide the menu down to make room for the description
    .menu {
        margin-top:109px;
        @include breakpoint (mama-bear){
            .index & { margin-top:150px; }
        }

    }
    .container{
        margin-left:100%;
    }
    //Slide the bio into the frame, and make background image visible
    .hans-content {
        opacity:1;
        visibility:visible;
        transition:opacity 600ms;

        .bio {
            margin-top:-108px;
            transition:margin-top 400ms;

        }
    }
    //Keep menu item orange (active), add close-x in top right
    #hans-toggle {
        color:$orange;
        padding-left:.5em;
        padding-right:0;
        background-color:rgba(100, 100, 100, 0.1);
        @extend %close-x;
    }
}

@import "work";



.button, a.button {
    padding:.5em 1em;
    border:.04em solid $half-white;
    display:inline-block;
    text-decoration:none;
    color: $half-white;
    border-radius:.4em;
    background:transparent;
    transition:background 200ms;
    &:hover {
        background: $half-white;
        color:$dark-light-grey;
    }
    &.back { 
        text-indent:-9999px;
        &:after { 
            content:"<"; 
            position:absolute; 
            text-indent:0px; 
            font-size:1.23em;
        }
    }

}
.container {
    padding-right:10px;
    padding-left:30px;
    @include breakpoint(baby-bear){ padding-left:10px; }
    transition:all 400ms;
    width:100%;
    transition:all 200ms;
}
.container-wrap {
    overflow:hidden;
    @include breakpoint(brother-bear){width:100%;}
}
