/*! 
** High five from this guy (http://www.youtube.com/watch?v=OZBWfyYtYQY) for checking out my source code:  ** 
This is my compiled css. It's minified, preprocessed and compressed via sass/grunt 
to see the hand written stuff, hit up the root dir/sass/ and you can see how I organizse my sass
*/


@import "mixins";
@import "icon-font";
@import "animations";

// Global & General styles
* {
   box-sizing:border-box;
}
html {
    font-family: 'Lekton', sans-serif;
    font-size: 18px;
    height:100%;
    background-color: $darker-grey;
    color: $off-white;
    position:relative;

    // Insert top line for the nav-toggle at breakpoint
    @include breakpoint(brother-bear){border-top:6px solid black;}
}
body  { @extend %clearfix; height:100%;}
h1,h2 { font-weight: 200; margin: 0.4em 0; }
h1    { font-size: 1em; }
h2    { color: $dark-grey; font-size: .75em;}

.image-wrap {
    @extend %circle-image-outline;
    background: $grey;
    .index & { opacity:0; }
    .index.loaded & { opacity:1; }
    transition-property:opacity;
    transition-duration:.7s;
 }
 .strikethrough {
    text-decoration:line-through;
 }

// Self portrait and main navigation container
nav {
    max-height:200px;
    margin: 0 auto;
    margin-top:120px;
    max-width:100px;
    z-index:3;
    @include breakpoint(baby-bear){
        margin-top:10%;
    }
    // As a sidebar instead of page-centered
    .work & {
        float:left;
        margin:.75em 0px 0px 1em;
    }
}
// Outer-menu container around main page nav 
.internal-nav-wrap {
    height:121px; 
    overflow:hidden;
    margin-top:0px;
    transition:margin-top 200ms, height 200ms;

    &.social-clicked   { height:141px; }
    .hans-clicked &    { margin-top:70px; height:141px; }
    

    @include breakpoint(papa-bear){
        .hans-clicked & { margin-top:70px; }
        .hans-clicked.index &    { margin-top:150px; }
    }
    @include breakpoint(brother-bear){
        .hans-clicked & { margin-top:100px; }
    }
   
    @include breakpoint(baby-bear){
        .hans-clicked & { margin-top:210px; }
        .hans-clicked.index &  { margin-top:215px; }
    }
    @include breakpoint(baby-baby-bear){
        .hans-clicked.index & { margin-top:315px;margin-bottom:30px;display:block;}
    }
}
// Inner-menu container main page ul 

.menu {
    padding:0;
    margin:0;
    margin-top:-10px;

    // Preload blank
    opacity:0;
    transition:opacity 20ms .6s, margin-top 200ms;

    // Slide up to show the social section
    .social-clicked &.unfolded {
        margin-top:-62px;
        // Additional margin for additional padding
        @include breakpoint(baby-bear){
            margin-top:-77px;
        }
    }
    // After load
    &.unfolded {
        opacity:1;
        margin-top:0;

        //Slide down
        li {margin-top: 0;}
    }
}


// Each menu items
.menu li {
    display:block;
    // Pre-margin for sliding down on load
    margin-top: -31%;
    list-style:none;
    border-bottom:1px solid rgba(white,.1);
    transition: margin-top 200ms .6s;
    &:hover { background-color:rgba(rgb(100,100,100), .1); transition-delay:0;}
    // Staggar load transitions
    &:nth-child(2) {
        transition-duration:.4s;
        transition-delay:.7s;
    }
    &:nth-child(3) {
        transition-duration:.5s;
        transition-delay:.8s;
        // Keep third child active on social clicked
        a:hover, .social-clicked & a { padding-left:.5em; }
        .social-clicked & a { color:$orange; }
    }
    a {
        display:block;
        padding-left:0;
        padding-right:.5em;
        padding:.3em;

        text-decoration:none;
        color:$off-white;
        transition:all 100ms ease-in-out, color 100ms;
        // Extra padding for chunky thumbs on mobile
        @include breakpoint(baby-bear){
            padding-top:.5em;
            padding-bottom:.5em;
        }
        &:hover { padding-left:.5em;padding-right:0; }
    }
}

// Social Links
.social {
    display:inline-block;
    width: 100%;
    padding:0;
    margin:150px 0 0 0;

    background:#333;
    background:rgba(0, 0, 0, 0.2);
    border-top:1px solid #242321;
    border-bottom:1px solid #4e4e4e;
    transition:margin 0 .2s;
    // Social Active State
    .social-clicked &  { margin:0px 0 0 0; transition-delay:0; }
    li {
        display:block;
        width:100%;
        max-width:100%;
        overflow:hidden;
    }
    a {
      max-width:31px;
      text-decoration:none;
      display:block;
      color:white;
      position:relative;
      padding:.4em;
      font-size:15px;
      transition:padding-left .2s;
      &:hover {padding-left:100%;}
    }
}
// Links before data:
.social a:before {
  content:attr(data);
  color:white;
  position:absolute;
  display:block;
  left:-75px;
  transition:left .2s;
  color: $grey;
}
// Slide on hover
.social a:hover:before {left:5px;}

// Main Navigation mobile --> inner page --> compressed
@include breakpoint(brother-bear){
    .overlay {
        position:fixed;
        left:0; 
        top: 0;
        width:100%; 
        height:100%; 
        visibility:hidden;
        z-index:1;
        opacity:0; 

        background-color:rgba($darker-grey, .93);
        transition: opacity 0.5s, visibility 0s 0.5s;
        // Show overlay on click
        .menu-clicked & {
            opacity:1;
            visibility: visible;
            transition:opacity .5s;
        }
    }
    // Slide nav down on click 
    .menu-clicked.work nav   { margin-top:100px; }
}

// Footer
footer { 
    position:absolute;
    bottom:0;
    .work & {position:relative;}
    width:100%;
    padding: .7em .2em;
    margin:0 auto;
    text-align:center;
    transition:margin-bottom .5s 1s, opacity 400ms;
    opacity:1;
    overflow:hidden;
    @include breakpoint(baby-baby-bear){
        .hans-clicked.index & { opacity:0;}
    }

    &.loaded   { margin-bottom:0; }
    a {
        color:$dark-grey;
        font-style:italic;
        text-decoration:none;
        &:hover   { text-decoration:underline; }
    }
    
}



// Biography container & contents
.hans-content {

        // Transition in on Click
        opacity:0;
        visibility:hidden;
        z-index:-1;
        transition:opacity 600ms, visibility 600ms 1s;
        p {
            color: $dark-grey;
            font-size: .75em;
            @include breakpoint(baby-bear){
                color:rgba(136,136,136,.7);
                line-height:1.35em;
                font-size:.8em;
            }
        }
        .bio {
            margin:0 auto;
            margin-top:0px;
            width:80%;
            max-width: 600px;
            min-width:240px;
            transition:margin-top 400ms;
            .work & {
                position:absolute;
                top:0px;
                left:26px;
                margin-top:0;
                transition:top 400ms;
            }
            a {
                color:$dark-grey;
                font-style:italic;
            }
        }
    // Background image
    &:after {
        content:"";
        display:block;
        position:absolute;
        left:0;
        top:0;
        height:90%;
        width:100%;
        z-index:-1;

        opacity:.059;
        background-image:url('../img/me.jpg');
        background-size:cover;
        background-position:center center;
    }
}


// Hans clicked actions
.hans-clicked {
    //Slide the menu down to make room for the description
    .menu {
        margin-top:109px;
        @include breakpoint (mama-bear){
            .index & { margin-top:150px; }
        }

    }
    .container{
        margin-left:100%;
    }
    //Slide the bio into the frame, and make background image visible
    .hans-content {
        opacity:1;
        visibility:visible;
        transition:opacity 600ms;

        .bio {
            margin-top:-108px;
            transition:margin-top 400ms;

        }
    }
    //Keep menu item orange (active), add close-x in top right
    #hans-toggle {
        color:$orange;
        padding-left:.5em;
        padding-right:0;
        background-color:rgba(100, 100, 100, 0.1);
        @extend %close-x;
    }
}

// Hans Clicked on sidebar
.work.hans-clicked .hans-content .bio {
    top:132px;
    margin-top:0;
    transition:top 400ms;
    @include breakpoint(brother-bear){top:206px;}

}

// Hans Projects section
.project-body {
    font-family: 'Merriweather', serif;
    color:$dark-grey;
    font-size:.75em;
    text-align:center;
    h2 { font-size:2.5em; color:white; }
    header {
        margin: 4.8em 0;
        p {max-width:500px;margin:0 auto;}
    }
    
    a {
        text-decoration:none;
        color:rgba($orange,.4); 
        &:hover { color:$orange; };
    }
}
.project-container {
        margin:0;
        padding:0;
        @extend %clearfix;
        position:relative;
        overflow:hidden;
    li {
        width:48%;
        @include breakpoint(brother-bear){ width:100%; }
        display:block;
        min-height:200px;
        
       
        margin-bottom:20px;
        margin-right:2%;
        overflow:hidden;
        float:left;
        position:relative;

        border-top:1px solid rgba(black,.8); 
        background-color:$dark-light-grey;
        cursor:pointer;
        &:nth-child(even){margin-right:0;}
        &.active { cursor:auto; }
    }
    li.active {
        position: initial;
    }
    .project-wrap {
        padding:25px;
        padding-top:20px;
        transition:.3s all;
    }  
    h4 {
        text-align:right;
        color:rgba(white,.55);
        font-weight:normal;
        font-size:1.5em;
        margin:0;
    }
    .description {
        display:block;
        width:75%;
        height:0px;
        margin:1em 0;
        float:right;
        overflow:hidden;
        
        font-size:10px;
        text-align:right;
        line-height:1.3;
        color:$off-white;
        
        border-top:1px solid rgba(100,100,100,.2);
        border-bottom:1px solid rgba(100,100,100,.2);
        transition:all 200ms;
    }
    .button {
        position:absolute;
        border-width:2.5px;
        left: 20px;
        bottom:-30px;
        font-size:20px;
        padding:0; 
        border-radius:50%;
        width:25px; 
        height:25px;
        padding-top:3px;
        line-height:1;
        transition:bottom 200ms;

    }
     .active  {
        .description {
            max-width:200px;
            transition:.3s all;
        }
        .project-wrap {
            position:absolute;
            width:98%;
            height:100%;
            border-radius:4px;
            border-top:1px solid rgba(black,.8); 
            top:0;
            left:0;
            z-index:2;
            background-color:$dark-light-grey;
            transition:.3s all;
        }
    }

}


.project-container li:hover .button { bottom:20px; }
.project-container li:hover .description, .project-container .active .desciription { padding:1.5em 0; height:auto; }

.preview-image {
    width:100%;
    display:inline-block;
    height:200px;
    position:absolute;
    bottom:0;
    left:0;
    background-position:center top;
    background-size:cover;
    background-repeat:no-repeat;
    opacity:.3;
    max-width:600px;
    transition:height 120ms ease-in-out, opacity 100ms, background-position 120ms;
    .active & { opacity:1; background-size:contain; background-position:bottom; height:400px; transition:none;}
    li:hover &{ filter:blur(4px);opacity:.07; }
    li.active:hover &{ filter:none;opacity:inherit; }
    .posters & { background-image: url('../img/Portfolio/Posters/10.jpg'); }
    .lucilles & { background-image: url('../img/Portfolio/Lucilles/lucilles-thumb.jpg'); }
    .ihi & { background-image: url('../img/Portfolio/IHI/ihi-thumb.jpg'); }
    .steelehouse & { background-image: url('../img/Portfolio/Steelehouse/steelehouse-thumb.jpg'); }
    .sevilla & { background-image: url('../img/Portfolio/Sevilla/sevilla-thumb.jpg'); }
    .sports & { background-image: url('../img/Portfolio/Sports/sports-thumb.jpg'); }
    .ihi & { background-image: url('../img/Portfolio/IHI/ihi-thumb.jpg'); }
    .kokovoko & { background-image: url('../img/Portfolio/Kokovoko/kokovoko-thumb.jpg'); }
    .better-cheddar & { background-image: url('../img/Portfolio/BetterCheddar/bc-thumb.jpg'); }

}
.preview-image-wrap {
    position:absolute;
    bottom:0;
    left:0;
    width:100%;
    height:144px;
    overflow:hidden;
    transition:height 120ms;
    .active & { height:400px; max-width:66%; transition:none;}
    .active & { height:200px; }
    li:hover & {height:100%;}
}

.work nav {
    @include breakpoint(brother-bear){
            float:none; 
            margin:0 auto;
            transition:margin-top 300ms; 
            margin-top:-100%;
        }

    .menu li:nth-child(2){
       a { 
            color:$orange;
            padding-left:.5em;
        }
    }
}
.close-toggle {
    display:inline-block;
    top:.33em;
    right:.5em;
    font-size:3em;
    font-weight:normal;
    position:fixed;
    cursor:pointer;
    transform:rotate(195deg);
    visibility:hidden;
    color:white;
    transition:all 700ms ease-in-out, visibility 0s .7s;
    transform-origin:center center;
    text-decoration:none;
   
    .menu-clicked &{ visibility:visible; transform:rotate(45deg);transition:all 700ms , visibility 0s 0s;}
}
.work.hans-clicked .menu li:nth-child(2) a, nav .social-clicked .menu li:nth-child(2) a  {color:$off-white;}
.menu-toggle-container {
    display:none;
    color: rgb(198, 198, 198);
    cursor: pointer;
    height: 1.25em;
    width: 1.55em;
    font-size:1.5em;
    background: rgba(255, 255, 255, 0.0588235) none repeat scroll 0% 0% / auto padding-box border-box;
    border: 1px solid rgba(0, 0, 0, 0.49);
    border-radius: 0 0 5px 5px;
    outline: rgb(198, 198, 198) none 0px;
    padding:4px 8px 21px 7px;
    top:0;
    position:absolute;
    right:30px;
    &:hover .menu-toggle-wrap{color: white;}
    @include breakpoint(brother-bear){display:inline-block;}
}

.menu-toggle-wrap {
    color: rgba(0, 0, 0, 0.8);
    display: block;
    height: 23px;
    position: relative;
    text-decoration: none solid rgba(0, 0, 0, 0.8);
    text-shadow: rgba(255, 255, 255, 0.0784314) 0px 1px 0px;
    width: 16.1875px;
    border: 0px none rgba(0, 0, 0, 0.8);
    outline: rgba(0, 0, 0, 0.8) none 0px;
}



.button, a.button {
    padding:.5em 1em;
    border:.04em solid white;
    display:inline-block;
    text-decoration:none;
    color: white;
    border-radius:.4em;
    background:transparent;
    transition:background 200ms;
    &:hover {
        background: rgba(white,.4);
    }

}
.container {
    padding-right:10px;
    padding-left:30px;
    transition:all 400ms;
    width:100%;
    transition:all 200ms;
}
.container-wrap {
    overflow:hidden;
    @include breakpoint(brother-bear){width:100%;}
}
